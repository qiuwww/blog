new Vue({el:"#pageContainer",data:{capturedImage:"",imageHTML:"",originPageInfo:"",defaultFilename:Date.now()+".png",expand:!1,btnInfoText:"点击展开"},mounted:function(){let e=chrome.extension.getBackgroundPage().BgPageInstance.getCapturedData();e&&e.fileSystemUrl&&(this.capturedImage=e.fileSystemUrl,this.imageHTML=`<img class="img-result" src="${this.capturedImage}" />`,this.originPageInfo=JSON.stringify(e.pageInfo,null,4),this.defaultFilename=e.filename)},methods:{expandInfo:function(){this.expand=!this.expand,this.btnInfoText=this.expand?"点击收起":"点击展开"},save:function(){chrome.permissions.request({permissions:["downloads"]},e=>{e?chrome.downloads.download({url:this.capturedImage,saveAs:!0,conflictAction:"overwrite",filename:this.defaultFilename}):alert("必须接受授权，才能正常下载！")})}}});